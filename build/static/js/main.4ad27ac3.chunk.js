(this["webpackJsonpmoon-gallery"]=this["webpackJsonpmoon-gallery"]||[]).push([[0],{104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(31),i=a.n(s),r=(a(41),a(42),a(11)),l=a(2),o=a(6),u=a(111),d=(a(43),a(44),a(1));function j(e){var t=e.isOpen,a=Object(n.useRef)(null);return Object(n.useEffect)((function(){t&&(a.current.style.height="auto")})),Object(d.jsxs)("nav",{className:"responsiveNavigation",ref:a,children:[Object(d.jsx)(r.b,{exact:!0,to:"/",className:"navLinkRes",activeClassName:"activeNavLinkRes",children:"Home"}),Object(d.jsx)(r.b,{exact:!0,to:"/upload",className:"navLinkRes",activeClassName:"activeNavLinkRes",children:"Upload"}),Object(d.jsx)(r.b,{exact:!0,to:"/login",className:"navLinkRes",activeClassName:"activeNavLinkRes",children:"Login"})]})}var b=a(33);function m(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1],s=Object(b.useMediaQuery)({query:"(max-width: 768px)"});return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("header",{children:[Object(d.jsxs)("h3",{className:"logo",children:["MOON",Object(d.jsx)("span",{className:"logoGallery",children:"Gallery"})]}),s&&Object(d.jsx)("div",{className:"toggle-menu",children:Object(d.jsx)(u.a,{color:"#e99001",toggle:c,toggled:a})}),s||Object(d.jsxs)("nav",{className:"navigation",children:[Object(d.jsx)(r.b,{exact:!0,to:"/",className:"navLink",activeClassName:"activeNavLink",children:"Home"}),Object(d.jsx)(r.b,{exact:!0,to:"/upload",className:"navLink",activeClassName:"activeNavLink",children:"Upload"}),Object(d.jsx)(r.b,{exact:!0,to:"/login",className:"navLink",activeClassName:"activeNavLink",children:"Login"})]})]}),a&&Object(d.jsx)(j,{isOpen:a})]})}a(54),a(55);function p(e){var t=e.url,a=e.id,c=e.handleSpan,s=e.reference;Object(n.useEffect)((function(){var e=c();2===e&&(s.current.style.gridColumn="span 2"),console.log(e)}),[s,c]);var i=Object(l.f)();return Object(d.jsx)("div",{className:"containerImage",onClick:function(){i.push("/image-detail/".concat(a))},ref:s,children:Object(d.jsx)("img",{src:t,alt:"",className:"oneImage"})})}var h=a(34);a(56);function O(){return Object(d.jsx)("div",{className:"loader",children:Object(d.jsx)(h.PropagateLoader,{size:25,color:"#ff9100"})})}function f(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(1),i=Object(o.a)(s,2),r=i[0],l=i[1],u=Object(n.useState)(!1),j=Object(o.a)(u,2),b=j[0],m=j[1],h=Object(n.useRef)(null);Object(n.useEffect)((function(){m(!0),fetch("/api/images").then((function(e){return e.json()})).then((function(e){c(e),setTimeout((function(){return m(!1)}),[1e3])}))}),[]);var f=function(){return a.forEach((function(){h.current.clientWidth>=100?l(2):l(1)})),r};return Object(d.jsxs)(d.Fragment,{children:[b&&Object(d.jsx)(O,{}),Object(d.jsx)("div",{className:"gallery",children:a&&a.map((function(e){return Object(d.jsx)(p,{url:e.url,id:e._id,handleSpan:f,reference:h},e._id)}))})]})}a(83);function v(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"containerHome",children:[Object(d.jsx)("div",{className:"titleBox",children:Object(d.jsxs)("h2",{className:"welcome",children:["Welcome to the ",Object(d.jsx)("span",{children:"Moon Gallery"})]})}),Object(d.jsx)(f,{})]})})}a(84);function x(){var e=Object(n.useState)({title:"",url:"",_id:""}),t=Object(o.a)(e,2),a=t[0],c=t[1],s=Object(l.g)();return Object(n.useEffect)((function(){fetch("/api/images/".concat(s.id)).then((function(e){return e.json()})).then((function(e){return c(e)}))}),[s.id]),Object(d.jsxs)("div",{className:"imageDetail",children:[Object(d.jsx)("h2",{className:"imageTitle",children:a.title}),Object(d.jsx)("img",{src:a.url,alt:"",className:"image"}),Object(d.jsx)("p",{className:"imageId",children:a._id}),Object(d.jsx)("button",{className:"btnDownload",children:Object(d.jsx)("a",{href:a.url,children:"Download"})})]})}var g=a(13),N=a.n(g),y=a(18),k=a(35),_=a.n(k),w=(a(104),a(36)),S=a.n(w),C=(a(105),Object(n.memo)((function(e){var t=e.params;return Object(d.jsx)("div",{style:{maxHeight:"100vh"},children:Object(d.jsx)(S.a,{style:{position:"absolute",maxHeight:"100vh",width:"100%"},params:t})})}))),L={particles:{number:{value:80,density:{enable:!0,value_area:800}},color:{value:"#ff9500"},shape:{type:"circle",stroke:{width:0,color:"#140900"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:.5,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:8.017060304327615,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:!0,distance:252.52724532232722,color:"#000000",opacity:.8759538822118227,width:1.1048066982851816},move:{enable:!0,speed:5,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!1,mode:"bubble"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0};a(106);function F(e){var t=e.type,a=e.label,n=e.name,c=e.handle,s=e.value;return Object(d.jsx)("div",{className:"inputContainer",children:Object(d.jsxs)("div",{className:"inputBox",children:[Object(d.jsx)("input",{type:t,name:n,id:n,className:"inputComponent",onChange:c,value:s,placeholder:" "}),Object(d.jsx)("label",{htmlFor:n,className:"labelComponent",children:a})]})})}function z(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(null),i=Object(o.a)(s,2),r=i[0],l=i[1],u=function(e){"title"===e.target.name?(c(e.target.value),console.log(e.target.value)):(l(e.target.files[0]),console.log(e.target.files[0]))},j=function(){var e=Object(y.a)(N.a.mark((function e(t){var n,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=new FormData).append("file",r),n.append("title",a),e.next=6,_.a.post("/api/images/upload",n,{headers:{"Content-Type":"multipart/form-data"}});case 6:c=e.sent,console.log(c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(C,{params:L}),Object(d.jsx)("div",{className:"containerForm",children:Object(d.jsxs)("div",{className:"form",children:[Object(d.jsx)("h2",{className:"title",children:"Upload an Image"}),Object(d.jsxs)("form",{onSubmit:j,children:[Object(d.jsx)(F,{type:"text",label:"Title",handle:u,name:"title"}),Object(d.jsx)("input",{type:"file",id:"upload",hidden:!0,onChange:u}),Object(d.jsx)("label",{htmlFor:"upload",className:"uploadLabel",children:Object(d.jsx)("i",{className:"far fa-images"})}),Object(d.jsx)("button",{children:"Upload"})]})]})})]})}a(107);function R(){return Object(d.jsxs)("div",{className:"containerError",children:[Object(d.jsxs)("h2",{className:"error",children:[Object(d.jsx)("span",{children:"4"})," ",Object(d.jsx)("img",{src:"https://png2png.com/wp-content/uploads/2021/06/moon-png1-1024x1024.png",alt:""})," ",Object(d.jsx)("span",{children:"4"})]}),Object(d.jsx)("p",{className:"msg",children:"Page Not Found"})]})}var E={particles:{number:{value:6,density:{enable:!0,value_area:800}},color:{value:"#010101"},shape:{type:"polygon",stroke:{width:0,color:"#000"},polygon:{nb_sides:6},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:.3,random:!0,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:160,random:!1,anim:{enable:!0,speed:10,size_min:40,sync:!1}},line_linked:{enable:!1,distance:200,color:"#ffffff",opacity:1,width:2},move:{enable:!0,speed:8,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!1,mode:"grab"},onclick:{enable:!1,mode:"push"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0};a(108);function T(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),i=Object(o.a)(s,2),r=i[0],l=i[1],u=Object(n.useState)(""),j=Object(o.a)(u,2),b=j[0],m=j[1],p=function(){var e=Object(y.a)(N.a.mark((function e(t){var a,n,c,s,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Headers).append("Content-Type","application/json"),n=JSON.stringify(t),c={method:"POST",headers:a,body:n},e.next=6,fetch("/api/login",c);case 6:if(!(s=e.sent).ok){e.next=12;break}return e.next=10,s.json();case 10:i=e.sent,console.log(i);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(e){"user"===e.target.name?c(e.target.value):"password"===e.target.name?l(e.target.value):m(e.target.value),console.log(a,r,b)};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(C,{params:E}),Object(d.jsx)("div",{className:"containerForm",children:Object(d.jsxs)("div",{className:"formBox",children:[Object(d.jsx)("h2",{className:"title",children:"Register"}),Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),p({username:a,email:b,password:r})},children:[Object(d.jsx)(F,{type:"text",name:"user",label:"Username",handle:h,defaultValue:a}),Object(d.jsx)(F,{type:"email",name:"email",label:"Email",handle:h,defaultValue:b}),Object(d.jsx)(F,{type:"password",name:"password",label:"Password",handle:h,defaultValue:r}),Object(d.jsx)("button",{className:"btnSubmit",children:"Submit"})]})]})})]})}var D=function(){return Object(d.jsx)("div",{className:"main",children:Object(d.jsxs)(r.a,{children:[Object(d.jsx)(m,{}),Object(d.jsxs)(l.c,{children:[Object(d.jsx)(l.a,{exact:!0,path:"/",component:v}),Object(d.jsx)(l.a,{exact:!0,path:"/upload",component:z}),Object(d.jsx)(l.a,{exact:!0,path:"/login",component:T}),Object(d.jsx)(l.a,{exact:!0,path:"/image-detail/:id",component:x}),Object(d.jsx)(l.a,{path:"*",component:R})]})]})})},H=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,112)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),s(e),i(e)}))};i.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(D,{})}),document.getElementById("root")),H()},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){}},[[109,1,2]]]);
//# sourceMappingURL=main.4ad27ac3.chunk.js.map